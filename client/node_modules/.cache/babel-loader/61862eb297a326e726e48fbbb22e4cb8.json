{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\gksdb\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"C:\\\\Users\\\\gksdb\\\\AppData\\\\Roaming\\\\npm\\\\node_modules\\\\react-scripts\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"C:\\\\Users\\\\gksdb\\\\Desktop\\\\2019-2-OSSP1-Buzz-5\\\\client\\\\src\\\\components\\\\Signup.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from \"react\";\nimport \"./css/Account.scss\";\nimport { connection } from '../../../server'; // 유진\n\nconsole.log('Signup.js'); // 유진\n\nvar router = express.Router();\n\nconst express = require('express');\n\nconst app = express();\n\nconst path = require('path');\n\nvar mysql = require('mysql'); // 여기까지\n\n\nconst emailRegex = RegExp(/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/ // 이메일 정규 표현식 [아이디]@[###.###]\n);\n\nconst formValid = (_ref) => {\n  let formErrors = _ref.formErrors,\n      rest = _objectWithoutProperties(_ref, [\"formErrors\"]);\n\n  let valid = true; // validate form errors being empty\n\n  Object.values(formErrors).forEach(val => {\n    val.length > 0 && (valid = false);\n  }); // validate the form was filled out\n\n  Object.values(rest).forEach(val => {\n    val === null && (valid = false);\n  });\n  return valid;\n};\n\nclass Signup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n\n      if (formValid(this.state)) {\n        console.log(\"                              \\n        \\u2014SUBMITTING\\u2014\\n        Name : \".concat(this.state.name, \"\\n        Email : \").concat(this.state.email, \"\\n        Password : \").concat(this.state.password, \"\\n      \"));\n        router.get('/', function (req, res) {\n          res.sendFile(path.join(__dirname, '.\\Signup.js'));\n        });\n        router.post('/', function (req, res) {\n          var UserName = req.body.id;\n          var Email = req.body.email;\n          var Password = req.body.pw;\n\n          if (UserName && Email && Password) {\n            connection.query(\"INSERT INTO User (UserName, Email, Password) VALUES ('\" + UserName + \"', '\" + Email + \"', '\" + Password + \"')\", function (error, result, fields) {\n              if (error) {\n                res.send(\"err : \" + error);\n              } else {\n                console.log(\"Success\");\n                console.log(Email + ', ' + Password);\n                res.send(\"Success \" + Email + \", \" + Password);\n              }\n            });\n          }\n        });\n        module.exports = router; //db에 유저 정보 추가 부분 \n\n        /* router.post('/', async(req, res, next) => {\r\n             try{\r\n             let insertUserQuery = 'insert into innodb.User(UserName, Email, Password)  values (?,?,?)';\r\n             let insertResult = await db.queryParamCnt_Arr(insertUserQuery,[this.state.name, this.state.email, this.state.password]);\r\n                 if(!insertResult){\r\n               console.log(\"Insert Error\");\r\n               return next(500);\r\n             }\r\n                 res.status(201).send({\r\n               \"message\" : \"insert new user success\"\r\n             });\r\n           } catch(err){\r\n             return next(err);\r\n           }\r\n         });*/\n        //module.exports = router;\n      }\n    };\n\n    this.handleChange = e => {\n      e.preventDefault();\n      const _e$target = e.target,\n            name = _e$target.name,\n            value = _e$target.value;\n\n      let formErrors = _objectSpread({}, this.state.formErrors);\n\n      switch (name) {\n        case \"name\":\n          formErrors.name = value.length < 3 ? \"minimum 3 characaters required\" : \"\";\n          break;\n\n        case \"email\":\n          formErrors.email = emailRegex.test(value) ? \"\" : \"invalid email address\";\n          break;\n\n        case \"password\":\n          formErrors.password = value.length < 6 ? \"minimum 6 characaters required\" : \"\";\n          break;\n\n        default:\n          break;\n      }\n\n      this.setState({\n        formErrors,\n        [name]: value\n      }, () => console.log(this.state));\n    };\n\n    this.state = {\n      name: null,\n      email: null,\n      password: null,\n      formErrors: {\n        name: \"\",\n        email: \"\",\n        password: \"\"\n      }\n    };\n  }\n\n  render() {\n    const formErrors = this.state.formErrors;\n    return React.createElement(\"div\", {\n      className: \"wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Create Account\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      method: \"post\",\n      noValidate: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Name\"), React.createElement(\"input\", {\n      className: formErrors.name.length > 0 ? \"error\" : null,\n      placeholder: \"Name\",\n      type: \"name\",\n      name: \"name\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), formErrors.name.length > 0 && React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, formErrors.name)), React.createElement(\"div\", {\n      className: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Email\"), React.createElement(\"input\", {\n      className: formErrors.email.length > 0 ? \"error\" : null,\n      placeholder: \"Email\",\n      type: \"email\",\n      name: \"email\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), formErrors.email.length > 0 && React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, formErrors.email)), React.createElement(\"div\", {\n      className: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      htmlFor: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"input\", {\n      className: formErrors.password.length > 0 ? \"error\" : null,\n      placeholder: \"Password\",\n      type: \"password\",\n      name: \"password\",\n      noValidate: true,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), formErrors.password.length > 0 && React.createElement(\"span\", {\n      className: \"errorMessage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, formErrors.password)), React.createElement(\"div\", {\n      className: \"createAccount\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Create Account\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"small\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Already Have an account?\")))))));\n  }\n\n}\n\nexport default Signup;","map":{"version":3,"sources":["C:\\Users\\gksdb\\Desktop\\2019-2-OSSP1-Buzz-5\\client\\src\\components\\Signup.js"],"names":["React","Component","connection","console","log","router","express","Router","require","app","path","mysql","emailRegex","RegExp","formValid","formErrors","rest","valid","Object","values","forEach","val","length","Signup","constructor","props","handleSubmit","e","preventDefault","state","name","email","password","get","req","res","sendFile","join","__dirname","post","UserName","body","id","Email","Password","pw","query","error","result","fields","send","module","exports","handleChange","target","value","test","setState","render"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,oBAAP;AAEA,SAASC,UAAT,QAA2B,iBAA3B,C,CAA6C;;AAE7CC,OAAO,CAACC,GAAR,CAAY,WAAZ,E,CAEA;;AACA,IAAIC,MAAM,GAAGC,OAAO,CAACC,MAAR,EAAb;;AACA,MAAMD,OAAO,GAAGE,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,GAAG,GAAGH,OAAO,EAAnB;;AACA,MAAMI,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AACA,IAAIG,KAAK,GAAGH,OAAO,CAAC,OAAD,CAAnB,C,CACA;;;AAEA,MAAMI,UAAU,GAAGC,MAAM,CACvB,sEADuB,CACmD;AADnD,CAAzB;;AAIA,MAAMC,SAAS,GAAG,UAA6B;AAAA,MAA1BC,UAA0B,QAA1BA,UAA0B;AAAA,MAAXC,IAAW;;AAC7C,MAAIC,KAAK,GAAG,IAAZ,CAD6C,CAG7C;;AACAC,EAAAA,MAAM,CAACC,MAAP,CAAcJ,UAAd,EAA0BK,OAA1B,CAAkCC,GAAG,IAAI;AACvCA,IAAAA,GAAG,CAACC,MAAJ,GAAa,CAAb,KAAmBL,KAAK,GAAG,KAA3B;AACD,GAFD,EAJ6C,CAQ7C;;AACAC,EAAAA,MAAM,CAACC,MAAP,CAAcH,IAAd,EAAoBI,OAApB,CAA4BC,GAAG,IAAI;AACjCA,IAAAA,GAAG,KAAK,IAAR,KAAiBJ,KAAK,GAAG,KAAzB;AACD,GAFD;AAIA,SAAOA,KAAP;AACD,CAdD;;AAgBA,MAAMM,MAAN,SAAqBtB,SAArB,CAA+B;AAC7BuB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAenBC,YAfmB,GAeJC,CAAC,IAAI;AAClBA,MAAAA,CAAC,CAACC,cAAF;;AAEA,UAAId,SAAS,CAAC,KAAKe,KAAN,CAAb,EAA2B;AACzB1B,QAAAA,OAAO,CAACC,GAAR,0FAEW,KAAKyB,KAAL,CAAWC,IAFtB,+BAGY,KAAKD,KAAL,CAAWE,KAHvB,kCAIe,KAAKF,KAAL,CAAWG,QAJ1B;AAQA3B,QAAAA,MAAM,CAAC4B,GAAP,CAAW,GAAX,EAAgB,UAASC,GAAT,EAAcC,GAAd,EAAmB;AACjCA,UAAAA,GAAG,CAACC,QAAJ,CAAa1B,IAAI,CAAC2B,IAAL,CAAUC,SAAV,EAAqB,aAArB,CAAb;AACD,SAFD;AAIAjC,QAAAA,MAAM,CAACkC,IAAP,CAAY,GAAZ,EAAiB,UAASL,GAAT,EAAcC,GAAd,EAAmB;AACjC,cAAIK,QAAQ,GAAGN,GAAG,CAACO,IAAJ,CAASC,EAAxB;AACA,cAAIC,KAAK,GAAGT,GAAG,CAACO,IAAJ,CAASV,KAArB;AACA,cAAIa,QAAQ,GAAGV,GAAG,CAACO,IAAJ,CAASI,EAAxB;;AAEA,cAAGL,QAAQ,IAAIG,KAAZ,IAAqBC,QAAxB,EAAkC;AAC/B1C,YAAAA,UAAU,CAAC4C,KAAX,CAAiB,2DAA0DN,QAA1D,GAAqE,MAArE,GAA8EG,KAA9E,GAAsF,MAAtF,GAA+FC,QAA/F,GAA0G,IAA3H,EAAiI,UAASG,KAAT,EAAgBC,MAAhB,EAAwBC,MAAxB,EAAgC;AAC9J,kBAAIF,KAAJ,EAAW;AACRZ,gBAAAA,GAAG,CAACe,IAAJ,CAAS,WAAWH,KAApB;AACF,eAFD,MAGK;AACF5C,gBAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,gBAAAA,OAAO,CAACC,GAAR,CAAYuC,KAAK,GAAG,IAAR,GAAeC,QAA3B;AACAT,gBAAAA,GAAG,CAACe,IAAJ,CAAS,aAAaP,KAAb,GAAqB,IAArB,GAA4BC,QAArC;AACF;AACH,aATD;AAUF;AACH,SAjBD;AAmBAO,QAAAA,MAAM,CAACC,OAAP,GAAiB/C,MAAjB,CAhCyB,CAkCzB;;AACD;;;;;;;;;;;;;;;AAmBC;AAED;AACF,KA3EkB;;AAAA,SA6EnBgD,YA7EmB,GA6EJ1B,CAAC,IAAI;AAClBA,MAAAA,CAAC,CAACC,cAAF;AADkB,wBAEMD,CAAC,CAAC2B,MAFR;AAAA,YAEVxB,IAFU,aAEVA,IAFU;AAAA,YAEJyB,KAFI,aAEJA,KAFI;;AAGlB,UAAIxC,UAAU,qBAAQ,KAAKc,KAAL,CAAWd,UAAnB,CAAd;;AAEA,cAAQe,IAAR;AACE,aAAK,MAAL;AACEf,UAAAA,UAAU,CAACe,IAAX,GACEyB,KAAK,CAACjC,MAAN,GAAe,CAAf,GAAmB,gCAAnB,GAAsD,EADxD;AAEA;;AACF,aAAK,OAAL;AACEP,UAAAA,UAAU,CAACgB,KAAX,GAAmBnB,UAAU,CAAC4C,IAAX,CAAgBD,KAAhB,IACf,EADe,GAEf,uBAFJ;AAGA;;AACF,aAAK,UAAL;AACExC,UAAAA,UAAU,CAACiB,QAAX,GACEuB,KAAK,CAACjC,MAAN,GAAe,CAAf,GAAmB,gCAAnB,GAAsD,EADxD;AAEA;;AACF;AACE;AAfJ;;AAkBA,WAAKmC,QAAL,CAAc;AAAE1C,QAAAA,UAAF;AAAc,SAACe,IAAD,GAAQyB;AAAtB,OAAd,EAA6C,MAAMpD,OAAO,CAACC,GAAR,CAAY,KAAKyB,KAAjB,CAAnD;AACD,KArGkB;;AAGjB,SAAKA,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,IADK;AAEXC,MAAAA,KAAK,EAAE,IAFI;AAGXC,MAAAA,QAAQ,EAAE,IAHC;AAIXjB,MAAAA,UAAU,EAAE;AACVe,QAAAA,IAAI,EAAE,EADI;AAEVC,QAAAA,KAAK,EAAE,EAFG;AAGVC,QAAAA,QAAQ,EAAE;AAHA;AAJD,KAAb;AAUD;;AA0FD0B,EAAAA,MAAM,GAAG;AAAA,UACC3C,UADD,GACgB,KAAKc,KADrB,CACCd,UADD;AAGP,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE;AAAM,MAAA,QAAQ,EAAE,KAAKW,YAArB;AAAmC,MAAA,MAAM,EAAC,MAA1C;AAAiD,MAAA,UAAU,MAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AACE,MAAA,SAAS,EAAEX,UAAU,CAACe,IAAX,CAAgBR,MAAhB,GAAyB,CAAzB,GAA6B,OAA7B,GAAuC,IADpD;AAEE,MAAA,WAAW,EAAC,MAFd;AAGE,MAAA,IAAI,EAAC,MAHP;AAIE,MAAA,IAAI,EAAC,MAJP;AAKE,MAAA,UAAU,MALZ;AAME,MAAA,QAAQ,EAAE,KAAK+B,YANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAUGtC,UAAU,CAACe,IAAX,CAAgBR,MAAhB,GAAyB,CAAzB,IACC;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgCP,UAAU,CAACe,IAA3C,CAXJ,CADF,EAgBE;AAAK,MAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,EAEE;AACE,MAAA,SAAS,EAAEf,UAAU,CAACgB,KAAX,CAAiBT,MAAjB,GAA0B,CAA1B,GAA8B,OAA9B,GAAwC,IADrD;AAEE,MAAA,WAAW,EAAC,OAFd;AAGE,MAAA,IAAI,EAAC,OAHP;AAIE,MAAA,IAAI,EAAC,OAJP;AAKE,MAAA,UAAU,MALZ;AAME,MAAA,QAAQ,EAAE,KAAK+B,YANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAUGtC,UAAU,CAACgB,KAAX,CAAiBT,MAAjB,GAA0B,CAA1B,IACC;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgCP,UAAU,CAACgB,KAA3C,CAXJ,CAhBF,EA+BE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,EAEE;AACE,MAAA,SAAS,EAAEhB,UAAU,CAACiB,QAAX,CAAoBV,MAApB,GAA6B,CAA7B,GAAiC,OAAjC,GAA2C,IADxD;AAEE,MAAA,WAAW,EAAC,UAFd;AAGE,MAAA,IAAI,EAAC,UAHP;AAIE,MAAA,IAAI,EAAC,UAJP;AAKE,MAAA,UAAU,MALZ;AAME,MAAA,QAAQ,EAAE,KAAK+B,YANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,EAUGtC,UAAU,CAACiB,QAAX,CAAoBV,MAApB,GAA6B,CAA7B,IACC;AAAM,MAAA,SAAS,EAAC,cAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgCP,UAAU,CAACiB,QAA3C,CAXJ,CA/BF,EA6CE;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,QAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,CADF,CAFF,CA7CF,CAFF,CADF,CADF;AA6DD;;AAxK4B;;AA2K/B,eAAeT,MAAf","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./css/Account.scss\";\r\n\r\nimport { connection } from '../../../server' // 유진\r\n\r\nconsole.log('Signup.js');\r\n\r\n// 유진\r\nvar router = express.Router();\r\nconst express = require('express');\r\nconst app = express();\r\nconst path = require('path');\r\nvar mysql = require('mysql')\r\n// 여기까지\r\n\r\nconst emailRegex = RegExp(\r\n  /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/    // 이메일 정규 표현식 [아이디]@[###.###]\r\n);\r\n\r\nconst formValid = ({ formErrors, ...rest }) => {\r\n  let valid = true;\r\n\r\n  // validate form errors being empty\r\n  Object.values(formErrors).forEach(val => {\r\n    val.length > 0 && (valid = false);\r\n  });\r\n\r\n  // validate the form was filled out\r\n  Object.values(rest).forEach(val => {\r\n    val === null && (valid = false);\r\n  });\r\n\r\n  return valid;\r\n};\r\n\r\nclass Signup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      name: null,\r\n      email: null,\r\n      password: null,\r\n      formErrors: {\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\"\r\n      }\r\n    };\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    \r\n    if (formValid(this.state)) {\r\n      console.log(`                              \r\n        —SUBMITTING—\r\n        Name : ${this.state.name}\r\n        Email : ${this.state.email}\r\n        Password : ${this.state.password}\r\n      `);\r\n\r\n\r\n      router.get('/', function(req, res) {\r\n        res.sendFile(path.join(__dirname, '.\\Signup.js'))\r\n      })\r\n      \r\n      router.post('/', function(req, res) {\r\n         var UserName = req.body.id;\r\n         var Email = req.body.email;\r\n         var Password = req.body.pw;\r\n      \r\n         if(UserName && Email && Password) {\r\n            connection.query(\"INSERT INTO User (UserName, Email, Password) VALUES ('\"+ UserName + \"', '\" + Email + \"', '\" + Password + \"')\", function(error, result, fields) {\r\n               if (error) {\r\n                  res.send(\"err : \" + error)\r\n               }\r\n               else {\r\n                  console.log(\"Success\")\r\n                  console.log(Email + ', ' + Password)\r\n                  res.send(\"Success \" + Email + \", \" + Password)\r\n               }\r\n            })\r\n         }\r\n      })\r\n      \r\n      module.exports = router;\r\n\r\n      //db에 유저 정보 추가 부분 \r\n     /* router.post('/', async(req, res, next) => {\r\n\r\n        try{\r\n          let insertUserQuery = 'insert into innodb.User(UserName, Email, Password)  values (?,?,?)';\r\n          let insertResult = await db.queryParamCnt_Arr(insertUserQuery,[this.state.name, this.state.email, this.state.password]);\r\n  \r\n          if(!insertResult){\r\n            console.log(\"Insert Error\");\r\n            return next(500);\r\n          }\r\n  \r\n          res.status(201).send({\r\n            \"message\" : \"insert new user success\"\r\n          });\r\n        } catch(err){\r\n          return next(err);\r\n        }\r\n      });*/\r\n\r\n      //module.exports = router;\r\n      \r\n    } \r\n  };\r\n\r\n  handleChange = e => {\r\n    e.preventDefault();\r\n    const { name, value } = e.target;\r\n    let formErrors = { ...this.state.formErrors };\r\n\r\n    switch (name) {\r\n      case \"name\":\r\n        formErrors.name =\r\n          value.length < 3 ? \"minimum 3 characaters required\" : \"\";\r\n        break;\r\n      case \"email\":\r\n        formErrors.email = emailRegex.test(value)\r\n          ? \"\"\r\n          : \"invalid email address\";\r\n        break;\r\n      case \"password\":\r\n        formErrors.password =\r\n          value.length < 6 ? \"minimum 6 characaters required\" : \"\";\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    this.setState({ formErrors, [name]: value }, () => console.log(this.state));\r\n  };\r\n\r\n  render() {\r\n    const { formErrors } = this.state;\r\n\r\n    return (\r\n      <div className=\"wrapper\">\r\n        <div className=\"form-wrapper\">\r\n          <h1>Create Account</h1>\r\n          <form onSubmit={this.handleSubmit} method=\"post\" noValidate>\r\n            <div className=\"name\">\r\n              <label htmlFor=\"name\">Name</label>\r\n              <input\r\n                className={formErrors.name.length > 0 ? \"error\" : null}\r\n                placeholder=\"Name\"\r\n                type=\"name\"\r\n                name=\"name\"\r\n                noValidate\r\n                onChange={this.handleChange}\r\n              />\r\n              {formErrors.name.length > 0 && (\r\n                <span className=\"errorMessage\">{formErrors.name}</span>\r\n              )}\r\n            </div>\r\n            \r\n            <div className=\"email\">\r\n              <label htmlFor=\"email\">Email</label>\r\n              <input\r\n                className={formErrors.email.length > 0 ? \"error\" : null}\r\n                placeholder=\"Email\"\r\n                type=\"email\"\r\n                name=\"email\"\r\n                noValidate\r\n                onChange={this.handleChange}\r\n              />\r\n              {formErrors.email.length > 0 && (\r\n                <span className=\"errorMessage\">{formErrors.email}</span>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"password\">\r\n              <label htmlFor=\"password\">Password</label>\r\n              <input\r\n                className={formErrors.password.length > 0 ? \"error\" : null}\r\n                placeholder=\"Password\"\r\n                type=\"password\"\r\n                name=\"password\"\r\n                noValidate\r\n                onChange={this.handleChange}\r\n              />\r\n              {formErrors.password.length > 0 && (\r\n                <span className=\"errorMessage\">{formErrors.password}</span>\r\n              )}\r\n            </div>\r\n            <div className=\"createAccount\">\r\n              <button type=\"submit\">Create Account</button>\r\n              <div>\r\n                <small>\r\n                  <a href=\"/login\">Already Have an account?</a>\r\n                </small>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}