{"ast":null,"code":"// const async = require('async');\n// const pool = require('../config/dbPool.js');\n// console.log('pool.js');\n// module.exports = {\n//   queryParamCnt_None : async (...args) => {\n//     const query = args[0];\n//     let result;\n//     try {\n//       var connection = await pool.getConnection();\n//       result = await connection.query(query);\n//     }\n//     catch(err) {\n//       console.log(\"mysql error! err log =>\" + err);\n//     }\n//     finally {\n//       pool.releaseConnection(connection);\n//       return result;\n//     }\n//   },\n//   queryParamCnt_Arr : async (...args) => {\n//     const query = args[0];\n//     const data = args[1];\n//     let result;\n//     try {\n//       var connection = await pool.getConnection();\n//       result = await connection.query(query, data);\n//     }\n//     catch(err) {\n//       console.log(\"mysql error! err log =>\" + err);\n//     }\n//     finally {\n//       pool.releaseConnection(connection);\n//       return result;\n//     }\n//   },\n//   Transaction : async (...args) => {\n//     let result = \"Success\";\n//     try{\n//       var connection = await pool.getConnection();\n//       await connection.beginTransaction();\n//       await args[0](connection, ...args);\n//       await connection.commit();\n//     }\n//     catch(err){\n//       await connection.rollback();\n//       console.log(\"mysql error! err log =>\" + err);\n//       result = undefined;\n//     }\n//     finally {\n//       pool.releaseConnection(connection);\n//       return result;\n//     }\n//   }\n// };\n// /* Transaction 사용 예시\n// const db = require('../module/pool.js');\n// await db.Transaction( async (connection) => {\n//   await connection.query(query1, [data]);\n//   await connection.query(query2, [data]);\n// })\n// let Transaction = await db.Transaction( async (connection) => {\n//   var result_addvote = await connection.query(select_addvote,[vote, id]);\n//   if(!result_addvote){\n//     return next(\"500\");\n//   }\n//   let result_subcoin = await connection.query(select_subcoin,[vote, id]);\n//   if(!result_subcoin){\n//     return next(\"500\");\n//   }\n// })\n// if(!Transaction){\n//   return next(\"500\");\n// }\n// */","map":{"version":3,"sources":["/Users/seojin-won/wisdom-x-wisdom/client/src/components/Server/module/pool.js"],"names":[],"mappings":"AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AAEA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA","sourcesContent":["// const async = require('async');\n// const pool = require('../config/dbPool.js');\n\n// console.log('pool.js');\n\n// module.exports = {\n//   queryParamCnt_None : async (...args) => {\n//     const query = args[0];\n//     let result;\n//     try {\n//       var connection = await pool.getConnection();\n//       result = await connection.query(query);\n//     }\n//     catch(err) {\n//       console.log(\"mysql error! err log =>\" + err);\n//     }\n//     finally {\n//       pool.releaseConnection(connection);\n//       return result;\n//     }\n//   },\n//   queryParamCnt_Arr : async (...args) => {\n//     const query = args[0];\n//     const data = args[1];\n\n//     let result;\n//     try {\n//       var connection = await pool.getConnection();\n//       result = await connection.query(query, data);\n//     }\n//     catch(err) {\n//       console.log(\"mysql error! err log =>\" + err);\n//     }\n//     finally {\n//       pool.releaseConnection(connection);\n//       return result;\n//     }\n//   },\n//   Transaction : async (...args) => {\n//     let result = \"Success\";\n\n//     try{\n//       var connection = await pool.getConnection();\n//       await connection.beginTransaction();\n\n//       await args[0](connection, ...args);\n//       await connection.commit();\n//     }\n//     catch(err){\n//       await connection.rollback();\n//       console.log(\"mysql error! err log =>\" + err);\n//       result = undefined;\n//     }\n//     finally {\n//       pool.releaseConnection(connection);\n//       return result;\n//     }\n//   }\n// };\n\n\n// /* Transaction 사용 예시\n\n// const db = require('../module/pool.js');\n\n// await db.Transaction( async (connection) => {\n//   await connection.query(query1, [data]);\n//   await connection.query(query2, [data]);\n// })\n\n\n// let Transaction = await db.Transaction( async (connection) => {\n//   var result_addvote = await connection.query(select_addvote,[vote, id]);\n//   if(!result_addvote){\n//     return next(\"500\");\n//   }\n\n//   let result_subcoin = await connection.query(select_subcoin,[vote, id]);\n//   if(!result_subcoin){\n//     return next(\"500\");\n//   }\n// })\n\n// if(!Transaction){\n//   return next(\"500\");\n// }\n\n// */\n"]},"metadata":{},"sourceType":"module"}