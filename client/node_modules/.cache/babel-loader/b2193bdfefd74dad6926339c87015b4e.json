{"ast":null,"code":"'use strict';\n\nconst Promise = require('bluebird');\n\nmodule.exports = {\n  promiseCallback: function (functionName, params, returnArgumentsArray = false) {\n    params = Array.prototype.slice.call(params, 0);\n    return new Promise((resolve, reject) => {\n      params.push(function (err) {\n        const args = Array.prototype.slice.call(arguments, 1);\n\n        if (err) {\n          return reject(err);\n        }\n\n        process.nextTick(() => {\n          if (returnArgumentsArray) {\n            args.push(call);\n            return resolve(args);\n          }\n\n          return resolve(args[0]);\n        });\n      });\n      const call = this[functionName].apply(this, params);\n    });\n  }\n};","map":null,"metadata":{},"sourceType":"script"}