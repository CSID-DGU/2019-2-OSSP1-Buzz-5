{"ast":null,"code":"import _toConsumableArray from\"/Users/seojin-won/wisdom-x-wisdom/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/seojin-won/wisdom-x-wisdom/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/seojin-won/wisdom-x-wisdom/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/seojin-won/wisdom-x-wisdom/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/seojin-won/wisdom-x-wisdom/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/seojin-won/wisdom-x-wisdom/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import MediaContainer from'./MediaContainer';import CommunicationContainer from'./CommunicationContainer';import{connect}from'react-redux';import store from'../store';import io from'socket.io-client';var RoomPage=/*#__PURE__*/function(_Component){_inherits(RoomPage,_Component);function RoomPage(props){var _this;_classCallCheck(this,RoomPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(RoomPage).call(this,props));_this.getUserMedia=navigator.mediaDevices.getUserMedia({audio:true,video:true}).catch(function(e){return alert('getUserMedia() error: '+e.name);});_this.socket=io.connect();return _this;}_createClass(RoomPage,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.addRoom();}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(MediaContainer,{media:function media(_media){return _this2.media=_media;},socket:this.socket,getUserMedia:this.getUserMedia}),React.createElement(CommunicationContainer,{socket:this.socket,media:this.media,getUserMedia:this.getUserMedia}));}}]);return RoomPage;}(Component);var mapStateToProps=function mapStateToProps(store){return{rooms:new Set(_toConsumableArray(store.rooms))};};var mapDispatchToProps=function mapDispatchToProps(dispatch,ownProps){return{addRoom:function addRoom(){return store.dispatch({type:'ADD_ROOM',room:ownProps.match.params.room});}};};export default connect(mapStateToProps,mapDispatchToProps)(RoomPage);","map":{"version":3,"sources":["/Users/seojin-won/wisdom-x-wisdom/client/src/containers/RoomPage.js"],"names":["React","Component","MediaContainer","CommunicationContainer","connect","store","io","RoomPage","props","getUserMedia","navigator","mediaDevices","audio","video","catch","e","alert","name","socket","addRoom","media","mapStateToProps","rooms","Set","mapDispatchToProps","dispatch","ownProps","type","room","match","params"],"mappings":"g9BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,sBAAP,KAAmC,0BAAnC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,MAAOC,CAAAA,EAAP,KAAe,kBAAf,C,GAEMC,CAAAA,Q,kEACJ,kBAAYC,KAAZ,CAAmB,0CACjB,0EAAMA,KAAN,GACA,MAAKC,YAAL,CAAoBC,SAAS,CAACC,YAAV,CAAuBF,YAAvB,CAAoC,CACtDG,KAAK,CAAE,IAD+C,CAEtDC,KAAK,CAAE,IAF+C,CAApC,EAGjBC,KAHiB,CAGX,SAAAC,CAAC,QAAIC,CAAAA,KAAK,CAAC,yBAA2BD,CAAC,CAACE,IAA9B,CAAT,EAHU,CAApB,CAIA,MAAKC,MAAL,CAAcZ,EAAE,CAACF,OAAH,EAAd,CANiB,aAOlB,C,kFACmB,CAClB,KAAKI,KAAL,CAAWW,OAAX,GACD,C,uCACO,iBACN,MACE,gCACE,oBAAC,cAAD,EAAgB,KAAK,CAAE,eAAAC,MAAK,QAAI,CAAA,MAAI,CAACA,KAAL,CAAaA,MAAjB,EAA5B,CAAoD,MAAM,CAAE,KAAKF,MAAjE,CAAyE,YAAY,CAAE,KAAKT,YAA5F,EADF,CAEE,oBAAC,sBAAD,EAAwB,MAAM,CAAE,KAAKS,MAArC,CAA6C,KAAK,CAAE,KAAKE,KAAzD,CAAgE,YAAY,CAAE,KAAKX,YAAnF,EAFF,CADF,CAMD,C,sBAnBoBR,S,EAqBvB,GAAMoB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAhB,KAAK,QAAK,CAACiB,KAAK,CAAE,GAAIC,CAAAA,GAAJ,oBAAYlB,KAAK,CAACiB,KAAlB,EAAR,CAAL,EAA7B,CACA,GAAME,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,QAAD,CAAWC,QAAX,QACvB,CACEP,OAAO,CAAE,yBAAMd,CAAAA,KAAK,CAACoB,QAAN,CAAe,CAAEE,IAAI,CAAE,UAAR,CAAoBC,IAAI,CAAEF,QAAQ,CAACG,KAAT,CAAeC,MAAf,CAAsBF,IAAhD,CAAf,CAAN,EADX,CADuB,EAA3B,CAKA,cAAexB,CAAAA,OAAO,CAACiB,eAAD,CAAkBG,kBAAlB,CAAP,CAA6CjB,QAA7C,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport MediaContainer from './MediaContainer'\nimport CommunicationContainer from './CommunicationContainer'\nimport { connect } from 'react-redux'\nimport store from '../store'\nimport io from 'socket.io-client'\n\nclass RoomPage extends Component {\n  constructor(props) {\n    super(props);\n    this.getUserMedia = navigator.mediaDevices.getUserMedia({\n      audio: true,\n      video: true\n    }).catch(e => alert('getUserMedia() error: ' + e.name))\n    this.socket = io.connect();\n  }\n  componentDidMount() {\n    this.props.addRoom();\n  }\n  render(){\n    return (\n      <div>\n        <MediaContainer media={media => this.media = media} socket={this.socket} getUserMedia={this.getUserMedia} />\n        <CommunicationContainer socket={this.socket} media={this.media} getUserMedia={this.getUserMedia} />\n      </div>\n    );\n  }\n}\nconst mapStateToProps = store => ({rooms: new Set([...store.rooms])});\nconst mapDispatchToProps = (dispatch, ownProps) => (\n    {\n      addRoom: () => store.dispatch({ type: 'ADD_ROOM', room: ownProps.match.params.room })\n    }\n  );\nexport default connect(mapStateToProps, mapDispatchToProps)(RoomPage);\n"]},"metadata":{},"sourceType":"module"}