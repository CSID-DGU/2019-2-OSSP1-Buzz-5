{"map":"{\"version\":3,\"sources\":[\"static/js/main.e706b1ff.chunk.js\"],\"names\":[\"this\",\"push\",\"50\",\"module\",\"exports\",\"__webpack_require__\",\"86\",\"89\",\"91\",\"__webpack_exports__\",\"r\",\"react\",\"react_default\",\"n\",\"react_dom\",\"react_dom_default\",\"classCallCheck\",\"createClass\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"inherits\",\"es\",\"redux\",\"toConsumableArray\",\"room_reducer\",\"state\",\"arguments\",\"length\",\"undefined\",\"action\",\"type\",\"Object\",\"Set\",\"concat\",\"room\",\"audio_reducer\",\"audio\",\"video_reducer\",\"video\",\"src_reducers\",\"rooms\",\"persistedState\",\"localStorage\",\"getItem\",\"JSON\",\"parse\",\"store_store\",\"subscribe\",\"setItem\",\"stringify\",\"getState\",\"src_store\",\"HashRouter\",\"Switch\",\"Route\",\"assertThisInitialized\",\"prop_types\",\"Link\",\"components_Home\",\"store\",\"props\",\"a\",\"createElement\",\"className\",\"itemProp\",\"name\",\"value\",\"roomId\",\"onChange\",\"handleChange\",\"pattern\",\"maxLength\",\"required\",\"autoFocus\",\"title\",\"to\",\"defaultRoomId\",\"map\",\"key\",\"HomePage_HomePage\",\"_Component\",\"HomePage\",\"_this\",\"call\",\"String\",\"Date\",\"setHours\",\"bind\",\"e\",\"setState\",\"target\",\"contextTypes\",\"router\",\"object\",\"containers_HomePage\",\"MediaContainer\",\"MediaBridge\",\"bridge\",\"user\",\"onRemoteHangup\",\"onMessage\",\"sendData\",\"setupDataHandlers\",\"setDescription\",\"sendDescription\",\"hangup\",\"init\",\"window\",\"RTCPeerConnection\",\"webkitRTCPeerConnection\",\"media\",\"_this2\",\"getUserMedia\",\"then\",\"stream\",\"localVideo\",\"srcObject\",\"localStream\",\"socket\",\"on\",\"getVideoTracks\",\"stop\",\"emit\",\"message\",\"pc\",\"setRemoteDescription\",\"RTCSessionDescription\",\"createAnswer\",\"catch\",\"handleError\",\"addIceCandidate\",\"RTCIceCandidate\",\"sdpMLineIndex\",\"mlineindex\",\"candidate\",\"msg\",\"dc\",\"send\",\"_this3\",\"onmessage\",\"data\",\"console\",\"log\",\"onclose\",\"remoteStream\",\"offer\",\"setLocalDescription\",\"localDescription\",\"close\",\"_this4\",\"iceServers\",\"url\",\"onicecandidate\",\"onaddstream\",\"remoteVideo\",\"ondatachannel\",\"channel\",\"peerMediaStream\",\"enabled\",\"getTracks\",\"forEach\",\"track\",\"addTrack\",\"createDataChannel\",\"createOffer\",\"_this5\",\"ref\",\"_ref\",\"autoPlay\",\"_ref2\",\"muted\",\"defineProperty\",\"el\",\"document\",\"documentElement\",\"fullscreenEnabled\",\"webkitFullscreenEnabled\",\"mozFullScreenEnabled\",\"msFullscreenEnabled\",\"exitFullscreen\",\"webkitExitFullscreen\",\"mozCancelFullScreen\",\"msExitFullscreen\",\"requestFullscreen\",\"webkitRequestFullscreen\",\"mozRequestFullScreen\",\"msRequestFullScreen\",\"components_ToggleFullScreen\",\"fullscreenElement\",\"webkitFullscreenElement\",\"mozFullScreenElement\",\"msFullscreenElement\",\"components_Communication\",\"xmlns\",\"viewBox\",\"d\",\"fill\",\"onClick\",\"toggleAudio\",\"toggleVideo\",\"handleHangup\",\"onSubmit\",\"handleInput\",\"data-ref\",\"placeholder\",\"handleInvitation\",\"href\",\"location\",\"CommunicationContainer_CommunicationContainer\",\"_React$Component\",\"CommunicationContainer\",\"sid\",\"full\",\"role\",\"getAudioTracks\",\"dataset\",\"preventDefault\",\"hideAuth\",\"setVideo\",\"setAudio\",\"assign\",\"Component\",\"containers_CommunicationContainer\",\"dispatch\",\"boo\",\"lib\",\"lib_default\",\"RoomPage_RoomPage\",\"RoomPage\",\"navigator\",\"mediaDevices\",\"alert\",\"connect\",\"addRoom\",\"_media\",\"containers_RoomPage\",\"ownProps\",\"match\",\"params\",\"NotFound\",\"src_App_0\",\"App\",\"apply\",\"basename\",\"exact\",\"path\",\"component\",\"Boolean\",\"hostname\",\"render\",\"getElementById\",\"serviceWorker\",\"ready\",\"registration\",\"unregister\"],\"mappings\":\"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\"}","code":"(this[\"webpackJsonpbuzz-webrtc-online-course\"]=this[\"webpackJsonpbuzz-webrtc-online-course\"]||[]).push([[0],{50:function(e,t,n){e.exports=n(91)},86:function(e,t){},89:function(e,t,n){},91:function(e,t,n){\"use strict\";n.r(t);var a=n(0),o=n.n(a),i=n(44),s=n.n(i),c=n(6),r=n(7),l=n(10),u=n(8),d=n(9),m=n(12),h=n(14),p=n(15),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return\"ADD_ROOM\"===t.type?Object(p.a)(new Set([].concat(Object(p.a)(e),[t.room]))):e},g=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return\"SET_AUDIO\"===t.type?t.audio:e},b=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return\"SET_VIDEO\"===t.type?t.video:e},f=Object(h.b)({rooms:v,video:b,audio:g}),E=localStorage.getItem(\"reduxState\")?JSON.parse(localStorage.getItem(\"reduxState\")):{rooms:[],video:!0,audio:!0},w=Object(h.c)(f,E);w.subscribe((function(){return localStorage.setItem(\"reduxState\",JSON.stringify(w.getState()))}));var k=w,O=n(94),y=n(96),j=n(95),S=n(2),D=n(1),C=n(93),N=Object(m.b)((function(e){return{rooms:e.rooms}}))((function(e){return o.a.createElement(\"div\",{className:\"home\"},o.a.createElement(\"div\",null,o.a.createElement(\"h1\",{itemProp:\"headline\"},\"Webrtc Video Room\"),o.a.createElement(\"p\",null,\"Please enter a room name.\"),o.a.createElement(\"input\",{type:\"text\",name:\"room\",value:e.roomId,onChange:e.handleChange,pattern:\"^\\\\w+$\",maxLength:\"10\",required:!0,autoFocus:!0,title:\"Room name should only contain letters or numbers.\"}),o.a.createElement(C.a,{className:\"primary-button\",to:\"/r/\"+e.roomId},\"Join\"),o.a.createElement(C.a,{className:\"primary-button\",to:\"/r/\"+e.defaultRoomId},\"Random\"),0!==e.rooms.length&&o.a.createElement(\"div\",null,\"Recently used rooms:\"),e.rooms.map((function(e){return o.a.createElement(C.a,{key:e,className:\"recent-room\",to:\"/r/\"+e},e)}))))})),I=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).defaultRoomId=String(new Date-(new Date).setHours(0,0,0,0)),n.state={roomId:n.defaultRoomId},n.handleChange=n.handleChange.bind(Object(S.a)(n)),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:\"handleChange\",value:function(e){this.setState({roomId:e.target.value})}},{key:\"render\",value:function(){return o.a.createElement(N,{defaultRoomId:this.defaultRoomId,roomId:this.state.roomId,handleChange:this.handleChange})}}]),t}(a.Component);I.contextTypes={router:D.PropTypes.object};var M=I,V=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={bridge:\"\",user:\"\"},n.onRemoteHangup=n.onRemoteHangup.bind(Object(S.a)(n)),n.onMessage=n.onMessage.bind(Object(S.a)(n)),n.sendData=n.sendData.bind(Object(S.a)(n)),n.setupDataHandlers=n.setupDataHandlers.bind(Object(S.a)(n)),n.setDescription=n.setDescription.bind(Object(S.a)(n)),n.sendDescription=n.sendDescription.bind(Object(S.a)(n)),n.hangup=n.hangup.bind(Object(S.a)(n)),n.init=n.init.bind(Object(S.a)(n)),n.setDescription=n.setDescription.bind(Object(S.a)(n)),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:\"componentWillMount\",value:function(){window.RTCPeerConnection=window.RTCPeerConnection||window.webkitRTCPeerConnection,this.props.media(this)}},{key:\"componentDidMount\",value:function(){var e=this;this.props.getUserMedia.then((function(t){return e.localVideo.srcObject=e.localStream=t})),this.props.socket.on(\"message\",this.onMessage),this.props.socket.on(\"hangup\",this.onRemoteHangup)}},{key:\"componentWillUnmount\",value:function(){this.props.media(null),void 0!==this.localStream&&this.localStream.getVideoTracks()[0].stop(),this.props.socket.emit(\"leave\")}},{key:\"onRemoteHangup\",value:function(){this.setState({user:\"host\",bridge:\"host-hangup\"})}},{key:\"onMessage\",value:function(e){\"offer\"===e.type?(this.pc.setRemoteDescription(new RTCSessionDescription(e)),this.pc.createAnswer().then(this.setDescription).then(this.sendDescription).catch(this.handleError)):\"answer\"===e.type?this.pc.setRemoteDescription(new RTCSessionDescription(e)):\"candidate\"===e.type&&this.pc.addIceCandidate(new RTCIceCandidate({sdpMLineIndex:e.mlineindex,candidate:e.candidate}))}},{key:\"sendData\",value:function(e){this.dc.send(JSON.stringify(e))}},{key:\"setupDataHandlers\",value:function(){var e=this;this.dc.onmessage=function(e){var t=JSON.parse(e.data);console.log(\"received message over data channel:\"+t)},this.dc.onclose=function(){e.remoteStream.getVideoTracks()[0].stop(),console.log(\"The Data Channel is Closed\")}}},{key:\"setDescription\",value:function(e){this.pc.setLocalDescription(e)}},{key:\"sendDescription\",value:function(){this.props.socket.send(this.pc.localDescription)}},{key:\"hangup\",value:function(){this.setState({user:\"guest\",bridge:\"guest-hangup\"}),this.pc.close(),this.props.socket.emit(\"leave\")}},{key:\"handleError\",value:function(e){console.log(e)}},{key:\"init\",value:function(){var e=this;this.pc=new RTCPeerConnection({iceServers:[{url:\"stun:stun.l.google.com:19302\"}]}),this.pc.onicecandidate=function(t){console.log(t,\"onicecandidate\"),t.candidate&&e.props.socket.send({type:\"candidate\",mlineindex:t.candidate.sdpMLineIndex,candidate:t.candidate.candidate})},this.pc.onaddstream=function(t){console.log(\"onaddstream\",t),e.remoteStream=t.stream,e.remoteVideo.srcObject=e.remoteStream=t.stream,e.setState({bridge:\"established\"})},this.pc.ondatachannel=function(t){e.dc=t.channel,e.setupDataHandlers(),e.sendData({peerMediaStream:{video:e.localStream.getVideoTracks()[0].enabled}})},this.localStream.getTracks().forEach((function(t){return e.pc.addTrack(t,e.localStream)})),\"host\"===this.state.user&&this.props.getUserMedia.then((function(){e.dc=e.pc.createDataChannel(\"chat\"),e.setupDataHandlers(),console.log(\"attachMediaIfReady\"),e.pc.createOffer().then(e.setDescription).then(e.sendDescription).catch(e.handleError)}))}},{key:\"render\",value:function(){var e=this;return o.a.createElement(\"div\",{className:\"media-bridge \".concat(this.state.bridge)},o.a.createElement(\"video\",{className:\"remote-video\",ref:function(t){return e.remoteVideo=t},autoPlay:!0}),o.a.createElement(\"video\",{className:\"local-video\",ref:function(t){return e.localVideo=t},autoPlay:!0,muted:!0}))}}]),t}(a.Component),R=n(47),x=document.documentElement;document.fullscreenEnabled=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled,document.exitFullscreen=document.exitFullscreen||document.webkitExitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen,x.requestFullscreen=x.requestFullscreen||x.webkitRequestFullscreen||x.mozRequestFullScreen||x.msRequestFullScreen;var z=function(){document.fullscreenEnabled&&(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?document.exitFullscreen():x.requestFullscreen())},H=function(e){return o.a.createElement(\"div\",{className:\"auth\"},o.a.createElement(\"div\",{className:\"media-controls\"},o.a.createElement(C.a,{className:\"call-exit-button\",to:\"/\"},o.a.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 36 36\",className:\"svg\"},o.a.createElement(\"path\",{d:\"M30 16.5h-18.26l8.38-8.38-2.12-2.12-12 12 12 12 2.12-2.12-8.38-8.38h18.26v-3z\",fill:\"white\"}))),o.a.createElement(\"button\",{onClick:e.toggleAudio,className:\"audio-button-\"+e.audio},o.a.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 50 50\",className:\"svg\"},o.a.createElement(\"path\",{className:\"on\",d:\"M38 22h-3.4c0 1.49-.31 2.87-.87 4.1l2.46 2.46C37.33 26.61 38 24.38 38 22zm-8.03.33c0-.11.03-.22.03-.33V10c0-3.32-2.69-6-6-6s-6 2.68-6 6v.37l11.97 11.96zM8.55 6L6 8.55l12.02 12.02v1.44c0 3.31 2.67 6 5.98 6 .45 0 .88-.06 1.3-.15l3.32 3.32c-1.43.66-3 1.03-4.62 1.03-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c1.81-.27 3.53-.9 5.08-1.81L39.45 42 42 39.46 8.55 6z\",fill:\"white\"}),o.a.createElement(\"path\",{className:\"off\",d:\"M24 28c3.31 0 5.98-2.69 5.98-6L30 10c0-3.32-2.68-6-6-6-3.31 0-6 2.68-6 6v12c0 3.31 2.69 6 6 6zm10.6-6c0 6-5.07 10.2-10.6 10.2-5.52 0-10.6-4.2-10.6-10.2H10c0 6.83 5.44 12.47 12 13.44V42h4v-6.56c6.56-.97 12-6.61 12-13.44h-3.4z\",fill:\"white\"}))),o.a.createElement(\"button\",{onClick:e.toggleVideo,className:\"video-button-\"+e.video},o.a.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 50 50\",className:\"svg\"},o.a.createElement(\"path\",{className:\"on\",d:\"M40 8H15.64l8 8H28v4.36l1.13 1.13L36 16v12.36l7.97 7.97L44 36V12c0-2.21-1.79-4-4-4zM4.55 2L2 4.55l4.01 4.01C4.81 9.24 4 10.52 4 12v24c0 2.21 1.79 4 4 4h29.45l4 4L44 41.46 4.55 2zM12 16h1.45L28 30.55V32H12V16z\",fill:\"white\"}),o.a.createElement(\"path\",{className:\"off\",d:\"M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm-4 24l-8-6.4V32H12V16h16v6.4l8-6.4v16z\",fill:\"white\"}))),o.a.createElement(\"button\",{onClick:z,className:\"fullscreen-button\"},o.a.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 50 50\",className:\"svg\"},o.a.createElement(\"path\",{className:\"on\",d:\"M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z\",fill:\"white\"}),o.a.createElement(\"path\",{className:\"off\",d:\"M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z\",fill:\"white\"}))),o.a.createElement(\"button\",{onClick:e.handleHangup,className:\"hangup-button\"},o.a.createElement(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 50 50\",className:\"svg\"},o.a.createElement(\"path\",{d:\"M24 18c-3.21 0-6.3.5-9.2 1.44v6.21c0 .79-.46 1.47-1.12 1.8-1.95.98-3.74 2.23-5.33 3.7-.36.35-.85.57-1.4.57-.55 0-1.05-.22-1.41-.59L.59 26.18c-.37-.37-.59-.87-.59-1.42 0-.55.22-1.05.59-1.42C6.68 17.55 14.93 14 24 14s17.32 3.55 23.41 9.34c.37.36.59.87.59 1.42 0 .55-.22 1.05-.59 1.41l-4.95 4.95c-.36.36-.86.59-1.41.59-.54 0-1.04-.22-1.4-.57-1.59-1.47-3.38-2.72-5.33-3.7-.66-.33-1.12-1.01-1.12-1.8v-6.21C30.3 18.5 27.21 18 24 18z\",fill:\"white\"})))),o.a.createElement(\"div\",{className:\"request-access\"},o.a.createElement(\"p\",null,o.a.createElement(\"span\",{className:\"you-left\"},\"You hung up.\\xa0\"),\"Send an invitation to join the room.\"),o.a.createElement(\"form\",{onSubmit:e.send},o.a.createElement(\"input\",{type:\"text\",autoFocus:!0,onChange:e.handleInput,\"data-ref\":\"message\",maxLength:\"30\",required:!0,placeholder:\"Hi, I'm John Doe.\"}),o.a.createElement(\"button\",{className:\"primary-button\"},\"Send\"))),o.a.createElement(\"div\",{className:\"grant-access\"},o.a.createElement(\"p\",null,\"A peer has sent you a message to join the room:\"),o.a.createElement(\"div\",null,e.message),o.a.createElement(\"button\",{onClick:e.handleInvitation,\"data-ref\":\"reject\",className:\"primary-button\"},\"Reject\"),o.a.createElement(\"button\",{onClick:e.handleInvitation,\"data-ref\":\"accept\",className:\"primary-button\"},\"Accept\")),o.a.createElement(\"div\",{className:\"room-occupied\"},o.a.createElement(\"p\",null,\"Please, try another room!\"),o.a.createElement(C.a,{className:\"primary-button\",to:\"/\"},\"OK\")),o.a.createElement(\"div\",{className:\"waiting\"},o.a.createElement(\"p\",null,o.a.createElement(\"span\",null,\"Waiting for someone to join this room:\\xa0\"),o.a.createElement(\"a\",{href:window.location.href},window.location.href),o.a.createElement(\"br\",null),o.a.createElement(\"span\",{className:\"remote-left\"},\"The remote side hung up.\"))))},T=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={sid:\"\",message:\"\",audio:!0,video:!0},n.handleInvitation=n.handleInvitation.bind(Object(S.a)(n)),n.handleHangup=n.handleHangup.bind(Object(S.a)(n)),n.handleInput=n.handleInput.bind(Object(S.a)(n)),n.toggleVideo=n.toggleVideo.bind(Object(S.a)(n)),n.toggleAudio=n.toggleAudio.bind(Object(S.a)(n)),n.send=n.send.bind(Object(S.a)(n)),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:\"hideAuth\",value:function(){this.props.media.setState({bridge:\"connecting\"})}},{key:\"full\",value:function(){this.props.media.setState({bridge:\"full\"})}},{key:\"componentDidMount\",value:function(){var e=this,t=this.props.socket;console.log(\"props\",this.props),this.setState({video:this.props.video,audio:this.props.audio}),t.on(\"create\",(function(){return e.props.media.setState({user:\"host\",bridge:\"create\"})})),t.on(\"full\",this.full),t.on(\"bridge\",(function(t){return e.props.media.init()})),t.on(\"join\",(function(){return e.props.media.setState({user:\"guest\",bridge:\"join\"})})),t.on(\"approve\",(function(t){var n=t.message,a=t.sid;e.props.media.setState({bridge:\"approve\"}),e.setState({message:n,sid:a})})),t.emit(\"find\"),this.props.getUserMedia.then((function(t){e.localStream=t,e.localStream.getVideoTracks()[0].enabled=e.state.video,e.localStream.getAudioTracks()[0].enabled=e.state.audio}))}},{key:\"handleInput\",value:function(e){this.setState(Object(R.a)({},e.target.dataset.ref,e.target.value))}},{key:\"send\",value:function(e){e.preventDefault(),this.props.socket.emit(\"auth\",this.state),this.hideAuth()}},{key:\"handleInvitation\",value:function(e){e.preventDefault(),this.props.socket.emit([e.target.dataset.ref],this.state.sid),this.hideAuth()}},{key:\"toggleVideo\",value:function(){var e=this.localStream.getVideoTracks()[0].enabled=!this.state.video;this.setState({video:e}),this.props.setVideo(e)}},{key:\"toggleAudio\",value:function(){var e=this.localStream.getAudioTracks()[0].enabled=!this.state.audio;this.setState({audio:e}),this.props.setAudio(e)}},{key:\"handleHangup\",value:function(){this.props.media.hangup()}},{key:\"render\",value:function(){return o.a.createElement(H,Object.assign({},this.state,{toggleVideo:this.toggleVideo,toggleAudio:this.toggleAudio,send:this.send,handleHangup:this.handleHangup,handleInput:this.handleInput,handleInvitation:this.handleInvitation}))}}]),t}(o.a.Component),A=Object(m.b)((function(e){return{video:e.video,audio:e.audio}}),(function(e){return{setVideo:function(e){return k.dispatch({type:\"SET_VIDEO\",video:e})},setAudio:function(e){return k.dispatch({type:\"SET_AUDIO\",audio:e})}}}))(T),F=n(48),L=n.n(F),U=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).getUserMedia=navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).catch((function(e){return alert(\"getUserMedia() error: \"+e.name)})),n.socket=L.a.connect(),n}return Object(d.a)(t,e),Object(r.a)(t,[{key:\"componentDidMount\",value:function(){this.props.addRoom()}},{key:\"render\",value:function(){var e=this;return o.a.createElement(\"div\",null,o.a.createElement(V,{media:function(t){return e.media=t},socket:this.socket,getUserMedia:this.getUserMedia}),o.a.createElement(A,{socket:this.socket,media:this.media,getUserMedia:this.getUserMedia}))}}]),t}(a.Component),P=Object(m.b)((function(e){return{rooms:new Set(Object(p.a)(e.rooms))}}),(function(e,t){return{addRoom:function(){return k.dispatch({type:\"ADD_ROOM\",room:t.match.params.room})}}}))(U),q=function(){return o.a.createElement(\"h1\",null,\"404.. This page is not found!\")},J=(n(89),function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(r.a)(t,[{key:\"render\",value:function(){return o.a.createElement(m.a,{store:k,basename:\"\"},o.a.createElement(O.a,null,o.a.createElement(y.a,null,o.a.createElement(j.a,{exact:!0,path:\"/\",component:M}),o.a.createElement(j.a,{path:\"/r/:room\",component:P}),o.a.createElement(j.a,{path:\"*\",component:q}))))}}]),t}(a.Component));Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(J,null),document.getElementById(\"app\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[50,1,2]]]);","extractedComments":[]}